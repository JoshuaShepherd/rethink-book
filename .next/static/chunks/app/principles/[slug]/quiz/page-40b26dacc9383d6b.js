(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{80:(e,s,a)=>{"use strict";a.d(s,{u:()=>r,z:()=>i});class t{track(e,s){this.enabled&&(new Date().toISOString(),window.location.href,"undefined"!=typeof navigator&&navigator.userAgent)}trackLessonView(e,s){this.track("lesson_view",{principleSlug:e,lessonId:s,component:"ModulePlayer"})}trackReflectionSave(e,s){this.track("reflection_save",{reflectionId:e,wordCount:s,component:"ReflectionPrompt"})}trackSimulationChoice(e,s,a){this.track("simulation_choice",{simulationId:e,choiceId:s,delta:a,component:"SimulationChoice"})}trackFieldExperimentSubmit(e){this.track("field_submit",{experimentId:e,component:"FieldExperimentCard"})}trackLessonComplete(e,s){this.track("lesson_mark_complete",{principleSlug:e,lessonId:s,component:"ProgressSummary"})}trackScriptureOpen(e){this.track("scripture_open",{reference:e,component:"Scripture"})}disable(){this.enabled=!1}enable(){this.enabled=!0}constructor(){this.enabled=!0}}let i=new t,r=(e,s)=>{i.track(e,s)}},991:(e,s,a)=>{"use strict";a.d(s,{k:()=>l});var t=a(5155),i=a(2115),r=a(9484),n=a(4269);let l=i.forwardRef((e,s)=>{let{className:a,value:i,...l}=e;return(0,t.jsx)(r.bL,{ref:s,className:(0,n.cn)("relative h-2 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",a),...l,children:(0,t.jsx)(r.C1,{className:"h-full w-full flex-1 bg-gradient-to-r from-primary to-secondary transition-all",style:{transform:"translateX(-".concat(100-(i||0),"%)")}})})});l.displayName=r.bL.displayName},1647:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var t=a(5155);a(2115);var i=a(3101),r=a(4269);let n=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:a,...i}=e;return(0,t.jsx)("div",{className:(0,r.cn)(n({variant:a}),s),...i})}},3998:(e,s,a)=>{"use strict";a.d(s,{$:()=>o});var t=a(5155),i=a(2115),r=a(3101),n=a(4269);let l=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 elegant-transition",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/80 shadow-glow hover:shadow-glow-lg",secondary:"bg-secondary text-white hover:bg-secondary/80 shadow-glow-emerald",premium:"bg-gradient-to-r from-accent-gold to-primary text-white hover:from-accent-gold/80 hover:to-primary/80 shadow-glow-gold",glass:"bg-surface-glass backdrop-blur-glass border border-glass-border hover:bg-surface-elevated/80 hover:border-glass-white/30 text-text-primary",outline:"border border-gray-300 dark:border-gray-700 bg-background hover:bg-surface hover:text-text-primary",ghost:"hover:bg-surface hover:text-text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",xl:"h-14 rounded-xl px-12 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,s)=>{let{className:a,variant:i,size:r,asChild:o=!1,...c}=e;return(0,t.jsx)("button",{className:(0,n.cn)(l({variant:i,size:r,className:a})),ref:s,...c})});o.displayName="Button"},4269:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var t=a(2821),i=a(5889);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.QP)((0,t.$)(s))}},6948:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l});var t=a(5155),i=a(2115),r=a(4269);let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border bg-surface-glass backdrop-blur-glass border-glass-border text-text-primary shadow-glass elegant-transition-slow hover:shadow-elevation",a),...i})});n.displayName="Card";let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("font-satoshi text-2xl font-semibold leading-none tracking-tight text-text-primary",a),...i})});o.displayName="CardTitle";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-text-secondary",a),...i})});c.displayName="CardDescription";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...i})});d.displayName="CardContent",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},7398:(e,s,a)=>{Promise.resolve().then(a.bind(a,9040))},9040:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(5155),i=a(2115),r=a(63),n=a(3998),l=a(6948),o=a(1647),c=a(991),d=a(2663);function m(e){let{quiz:s,onComplete:a}=e,[r,o]=(0,i.useState)(0),[c,m]=(0,i.useState)({}),[u,x]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),[g,b]=(0,i.useState)(s.timeLimit?60*s.timeLimit:null);c[s.questions[r].id];let f=(0,i.useCallback)(()=>{let e=new Date,t=u?Math.floor((e.getTime()-u.getTime())/1e3):0,i=s.questions.map(e=>{let s=c[e.id]||{selectedChoices:[],isCorrect:!1,usedHint:!1};return{questionId:e.id,selectedChoices:s.selectedChoices,isCorrect:s.isCorrect,usedHint:s.usedHint}}),r=Math.round(i.filter(e=>e.isCorrect).length/s.questions.length*100),n=r>=s.passThreshold;a({id:"attempt-".concat(Date.now()),quizId:s.id,userId:"current-user",answers:i,score:r,passed:n,completedAt:e,timeSpent:t})},[s,c,u,a]),y=(0,i.useCallback)(()=>{d.oR.error("Time is up! Submitting your current answers."),f()},[f]);return((0,i.useEffect)(()=>{if(!h||!g)return;let e=setInterval(()=>{b(e=>e&&e<=1?(y(),0):e?e-1:null)},1e3);return()=>clearInterval(e)},[h,g,y]),h)?(0,t.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{children:"Quiz in Progress"})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("p",{children:"Quiz functionality will be implemented here."}),(0,t.jsx)(n.$,{onClick:()=>f(),children:"Complete Quiz"})]})]})}):(0,t.jsxs)(l.Zp,{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)(l.ZB,{className:"text-2xl",children:s.title}),s.description&&(0,t.jsx)("p",{className:"text-text-secondary mt-2",children:s.description})]}),(0,t.jsx)(l.Wu,{className:"space-y-6",children:(0,t.jsx)(n.$,{onClick:()=>{p(!0),x(new Date)},size:"lg",className:"w-full",children:"Start Quiz"})})]})}var u=a(8661),x=a.n(u);let h=[{id:"badge_incarnation",name:"Moved into the Neighborhood",description:"Completed the Incarnational Mission principle and quiz. You understand presence-based mission.",icon:"\uD83C\uDFE0",category:"COMPLETION",rarity:"COMMON",requirement:"Complete Incarnational Mission quiz with 80%+"},{id:"badge_vocation",name:"Everyday Missionary",description:"Mastered whole-life mission thinking. Every role is a calling.",icon:"\uD83D\uDCBC",category:"MASTERY",rarity:"UNCOMMON",requirement:"Complete Vocation principle with reflection activities"},{id:"badge_multiplication",name:"Seed Planter",description:"Understanding multiplication and movement dynamics.",icon:"\uD83C\uDF31",category:"MASTERY",rarity:"UNCOMMON",requirement:"Complete Multiplication principle and field experiment"},{id:"badge_streak_7",name:"Week Warrior",description:"Maintained a 7-day learning streak. Consistency builds character.",icon:"\uD83D\uDD25",category:"STREAK",rarity:"COMMON",requirement:"Complete activities for 7 consecutive days"},{id:"badge_streak_30",name:"Month Master",description:"Sustained learning for 30 days straight. You're building deep habits.",icon:"âš¡",category:"STREAK",rarity:"RARE",requirement:"Complete activities for 30 consecutive days"},{id:"badge_reflection_master",name:"Deep Thinker",description:"Completed 10 meaningful reflections with rich insights.",icon:"\uD83E\uDD14",category:"ENGAGEMENT",rarity:"UNCOMMON",requirement:"Complete 10 reflection activities with 100+ words each"},{id:"badge_field_explorer",name:"Practice Pioneer",description:"Completed 5 field experiments. Theory becomes practice.",icon:"\uD83D\uDE80",category:"ENGAGEMENT",rarity:"RARE",requirement:"Complete 5 field experiment activities"},{id:"badge_quiz_perfectionist",name:"Quiz Champion",description:"Scored 100% on 3 different principle quizzes. Excellence in understanding.",icon:"\uD83C\uDFC6",category:"MASTERY",rarity:"LEGENDARY",requirement:"Score 100% on 3 different quizzes"}],p=[],g={daily:3,weekly:1,longestDaily:5,longestWeekly:2,lastActivity:new Date(Date.now()-864e5)},b={COMMON:{bgColor:"bg-gray-100 dark:bg-gray-800",textColor:"text-gray-700 dark:text-gray-300",borderColor:"border-gray-300 dark:border-gray-600",glow:""},UNCOMMON:{bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-700 dark:text-green-300",borderColor:"border-green-300 dark:border-green-600",glow:"shadow-glow-emerald"},RARE:{bgColor:"bg-blue-100 dark:bg-blue-900/30",textColor:"text-blue-700 dark:text-blue-300",borderColor:"border-blue-300 dark:border-blue-600",glow:"shadow-glow"},LEGENDARY:{bgColor:"bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30",textColor:"text-amber-700 dark:text-amber-300",borderColor:"border-amber-300 dark:border-amber-600",glow:"shadow-glow-gold"}};var f=a(80),y=a(5229),v=a(5740),j=a(6613),N=a(7181),w=a(5426),k=a(2987);function C(e){let{badge:s,isOpen:a,onClose:r,onKeepLearning:c}=e,[m,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(a){u(!0);let e=setTimeout(()=>u(!1),3e3);return()=>clearTimeout(e)}},[a]),(0,i.useEffect)(()=>{if(a){document.body.style.overflow="hidden";let e=document.getElementById("badge-modal");return null==e||e.focus(),()=>{document.body.style.overflow="unset"}}},[a]);let h=async()=>{try{await navigator.clipboard.writeText(window.location.href),d.oR.success("Link copied! Share your achievement."),(0,f.u)("badge_share",{badge_id:s.id,method:"copy_link"})}catch(e){d.oR.error("Failed to copy link")}},p=async()=>{let e={title:'I earned the "'.concat(s.name,'" badge!'),text:"".concat(s.description," - ").concat(s.requirement),url:window.location.href};if(navigator.share)try{await navigator.share(e),(0,f.u)("badge_share",{badge_id:s.id,method:"native_share"})}catch(e){}else h()},g=b[s.rarity];if(!a)return null;let C={badge_incarnation:"You moved into the neighborhoodâ€”nice. Presence creates possibility.",badge_vocation:"You're seeing work as mission field. Every interaction matters.",badge_multiplication:"Planting seeds of multiplication. Small beginnings, kingdom impact.",badge_streak_7:"Seven days of steady learning. Rhythm builds resilience.",badge_streak_30:"A month of faithful practice. You're developing kingdom muscle.",badge_reflection_master:"Deep thinking leads to deeper living. Keep wrestling with truth.",badge_field_explorer:"Theory becomes practice. The street is where mission lives.",badge_quiz_perfectionist:"Excellence in understanding. Now live what you've learned."}[s.id]||"Well done! Your learning journey is creating real transformation.";return(0,t.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"badge-title",onClick:r,className:"jsx-99b85801a5430c5 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:[m&&(0,t.jsx)("div",{style:{background:"\n              radial-gradient(circle at 20% 80%, #fbbf24 0%, transparent 50%),\n              radial-gradient(circle at 80% 20%, #3b82f6 0%, transparent 50%),\n              radial-gradient(circle at 40% 40%, #10b981 0%, transparent 50%)\n            ",animation:m?"confetti-fall 3s ease-out":"none"},className:"jsx-99b85801a5430c5 absolute inset-0 pointer-events-none"}),(0,t.jsxs)(l.Zp,{id:"badge-modal",className:"max-w-md w-full mx-auto transform transition-all ".concat(g.glow),onClick:e=>e.stopPropagation(),tabIndex:-1,children:[(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 "+"relative ".concat(g.bgColor," ").concat(g.borderColor," border-2 rounded-t-lg"),children:[(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:r,className:"absolute top-4 right-4 z-10","aria-label":"Close modal",children:(0,t.jsx)(y.A,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 text-center py-8 px-6",children:[(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 relative inline-block",children:[(0,t.jsx)("div",{className:"jsx-99b85801a5430c5 "+"text-6xl mb-4 inline-block p-4 rounded-full ".concat(g.bgColor," ").concat(m?"animate-bounce":""),children:s.icon}),("RARE"===s.rarity||"LEGENDARY"===s.rarity)&&(0,t.jsx)(v.A,{className:"absolute -top-2 -right-2 w-6 h-6 ".concat(g.textColor," ").concat(m?"animate-spin":"")})]}),(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 space-y-3",children:[(0,t.jsxs)(o.E,{variant:"outline",className:"".concat(g.borderColor," ").concat(g.textColor," font-semibold"),children:[(0,t.jsx)(j.A,{className:"w-3 h-3 mr-1"}),s.rarity.toLowerCase()," badge"]}),(0,t.jsx)("h2",{id:"badge-title",className:"jsx-99b85801a5430c5 "+"text-2xl font-bold ".concat(g.textColor),children:s.name}),(0,t.jsx)("p",{className:"jsx-99b85801a5430c5 "+"text-sm ".concat(g.textColor,"/80"),children:s.description})]})]})]}),(0,t.jsxs)(l.Wu,{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 bg-surface/50 rounded-lg p-4 border border-gray-300 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"jsx-99b85801a5430c5 text-sm font-medium text-text-primary mb-2",children:"Brad's Take:"}),(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 text-sm text-text-secondary italic",children:['"',C,'"']})]}),(0,t.jsxs)("div",{className:"jsx-99b85801a5430c5 flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:p,className:"flex-1",children:[(0,t.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,t.jsxs)(n.$,{variant:"outline",onClick:h,className:"flex-1",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]}),(0,t.jsxs)(n.$,{onClick:()=>{(0,f.u)("badge_modal_continue",{badge_id:s.id}),c(),r()},className:"w-full",variant:"premium",children:["Keep Learning",(0,t.jsx)(k.A,{className:"w-4 h-4 ml-2"})]})]})]}),(0,t.jsx)(x(),{id:"99b85801a5430c5",children:"@keyframes confetti-fall{0%{opacity:1;transform:translatey(-100vh)rotate(0deg)}100%{opacity:0;transform:translatey(100vh)rotate(720deg)}}"})]})}var _=a(8198),q=a(6485);function E(e){let{streak:s,className:a}=e,[r,n]=(0,i.useState)(!1);return(0,t.jsxs)("div",{className:"relative",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,t.jsxs)(o.E,{variant:"secondary",className:"flex items-center space-x-1 cursor-help ".concat(a),children:[(0,t.jsx)(_.A,{className:"w-3 h-3 text-orange-500"}),(0,t.jsx)("span",{children:s.daily})]}),r&&(0,t.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-surface-elevated border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg z-50 min-w-[200px]",children:[(0,t.jsx)("div",{className:"text-xs text-text-primary font-medium mb-2",children:"Your Learning Streak"}),(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(_.A,{className:"w-3 h-3 text-orange-500"}),(0,t.jsx)("span",{className:"text-text-secondary",children:"Daily streak:"})]}),(0,t.jsxs)("span",{className:"font-medium text-text-primary",children:[s.daily," days"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(q.A,{className:"w-3 h-3 text-blue-500"}),(0,t.jsx)("span",{className:"text-text-secondary",children:"Weekly streak:"})]}),(0,t.jsxs)("span",{className:"font-medium text-text-primary",children:[s.weekly," weeks"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(j.A,{className:"w-3 h-3 text-yellow-500"}),(0,t.jsx)("span",{className:"text-text-secondary",children:"Best daily:"})]}),(0,t.jsxs)("span",{className:"font-medium text-text-primary",children:[s.longestDaily," days"]})]})]}),(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-300 dark:border-gray-700",children:(0,t.jsx)("div",{className:"text-xs text-text-muted",children:"Complete activities daily to maintain your streak"})}),(0,t.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2",children:(0,t.jsx)("div",{className:"border-4 border-transparent border-t-surface-elevated"})})]})]})}let S=[{id:"quiz-incarnational-mission",principleId:"incarnational-mission",title:"Incarnational Mission Mastery Check",description:"Test your understanding of presence-based mission and incarnational practices.",questions:[{id:"q1",type:"SINGLE_SELECT",question:"What is the best summary of incarnational mission?",choices:[{id:"q1a",label:"Running more church programs",isCorrect:!1},{id:"q1b",label:"Moving gospel toward people's real lives",isCorrect:!0},{id:"q1c",label:"Keeping sacred and secular separate",isCorrect:!1}],hint:"Think about how Jesus moved into our neighborhood (John 1:14)",explanation:"Incarnational mission means moving the gospel toward people's real lives, just as Jesus moved into our neighborhood. It's about presence before proclamation.",points:1},{id:"q2",type:"SINGLE_SELECT",question:"What is the first faithful move in a new parish?",choices:[{id:"q2a",label:"Announce events immediately",isCorrect:!1},{id:"q2b",label:"Map places & people, listen, join existing good",isCorrect:!0},{id:"q2c",label:"Avoid public spaces until established",isCorrect:!1}],hint:"Consider what posture of learning and presence would look like",explanation:"The first move is to map places and people, listen deeply, and join the existing good. This shows a posture of learning rather than assuming we know what the community needs.",points:1},{id:"q3",type:"SINGLE_SELECT",question:"How does Jeremiah 29:4â€“7 shape our posture in mission?",choices:[{id:"q3a",label:"It calls us to withdraw from the city",isCorrect:!1},{id:"q3b",label:"It calls us to seek the city's welfare through settled presence",isCorrect:!0},{id:"q3c",label:"It tells us to focus only on fellow believers",isCorrect:!1}],hint:"What did God tell the exiles to do in Babylon?",explanation:"Jeremiah 29:4â€“7 calls us to seek the welfare of the city through settled presence. We are to plant gardens, build houses, and work for the flourishing of our context.",points:1}],passThreshold:80,timeLimit:15},{id:"quiz-missio-dei",principleId:"missio-dei",title:"Missio Dei Understanding",description:"Explore God's mission and our participation in it.",questions:[{id:"q1",type:"SINGLE_SELECT",question:"What does missio Dei primarily emphasize?",choices:[{id:"a",label:"God's mission in the world",isCorrect:!0},{id:"b",label:"Church growth strategies",isCorrect:!1},{id:"c",label:"Personal evangelism techniques",isCorrect:!1}],explanation:"Missio Dei emphasizes that mission is first God's mission, and we participate in what God is already doing.",points:1}],passThreshold:80},{id:"quiz-vocation",principleId:"vocation",title:"Whole-Life Mission Check",description:"Understanding vocation as everyday mission and calling.",questions:[{id:"q1",type:"SINGLE_SELECT",question:"How should we understand Christian vocation?",choices:[{id:"a",label:"Only for full-time ministry",isCorrect:!1},{id:"b",label:"All of life as mission context",isCorrect:!0},{id:"c",label:"Separate from secular work",isCorrect:!1}],explanation:"Christian vocation encompasses all of life as mission context - every role and relationship is a place of calling.",points:1}],passThreshold:80}];var z=a(5626),R=a(814),M=a(6983);function A(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),a=e.slug,[u,x]=(0,i.useState)(null),[b,y]=(0,i.useState)(!0),[v,N]=(0,i.useState)(!1),[w,k]=(0,i.useState)(null),[_,q]=(0,i.useState)(p),[A,T]=(0,i.useState)(g),[I,L]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=S.find(e=>e.principleId===a||e.principleId.includes(a));e&&(x(e),(0,f.u)("quiz_view",{quiz_id:e.id,principle_slug:a})),y(!1)},[a]);let D=()=>{s.push("/principles"),(0,f.u)("quiz_next_module",{current_quiz:null==u?void 0:u.id,principle_slug:a})};return b?(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-8",children:[(0,t.jsx)("div",{className:"h-8 bg-surface rounded w-1/3"}),(0,t.jsx)("div",{className:"h-64 bg-surface rounded"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"h-32 bg-surface rounded"},s))})]})})}):u?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"border-b border-gray-300 dark:border-gray-700 bg-surface/50",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>s.push("/principles/".concat(a)),children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Back to Lessons"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-text-primary",children:u.title}),u.description&&(0,t.jsx)("p",{className:"text-text-secondary mt-1",children:u.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(E,{streak:A}),(0,t.jsxs)("div",{className:"hidden md:flex space-x-6 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 text-primary"}),(0,t.jsxs)("span",{className:"text-text-secondary",children:["Pass: ",u.passThreshold,"%"]})]}),u.timeLimit&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.A,{className:"w-4 h-4 text-secondary"}),(0,t.jsxs)("span",{className:"text-text-secondary",children:[u.timeLimit," min"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 text-accent-gold"}),(0,t.jsxs)("span",{className:"text-text-secondary",children:[u.questions.length," questions"]})]})]})]})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-3",children:I?(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.A,{className:"w-5 h-5 ".concat(I.passed?"text-secondary":"text-text-muted")}),(0,t.jsx)("span",{children:I.passed?"Quiz Passed!":"Quiz Complete"})]}),(0,t.jsxs)(l.BT,{children:["Your score: ",I.score,"% (",I.passed?"Passed":"Needs Review",")"]})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[(0,t.jsx)(c.k,{value:I.score,className:"w-full"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[!I.passed&&(0,t.jsx)(n.$,{onClick:()=>{L(null),(0,f.u)("quiz_retake",{quiz_id:null==u?void 0:u.id,principle_slug:a})},className:"flex-1",children:"Try Again"}),(0,t.jsx)(n.$,{variant:"outline",onClick:()=>{s.push("/principles/".concat(a)),(0,f.u)("quiz_review_lessons",{quiz_id:null==u?void 0:u.id,principle_slug:a})},className:"flex-1",children:"Review Lessons"}),I.passed&&(0,t.jsx)(n.$,{variant:"premium",onClick:D,className:"flex-1",children:"Next Module"})]})]})]}):(0,t.jsx)(m,{quiz:u,onComplete:e=>{if(L(e),(0,f.u)("quiz_complete",{quiz_id:e.quizId,score:e.score,passed:e.passed,time_spent:e.timeSpent}),e.passed){let s=h.find(e=>"badge_incarnation"===e.id);if(s&&!_.some(e=>e.badgeId===s.id)){let t={badgeId:s.id,earnedAt:new Date,quizId:e.quizId};q(e=>[...e,t]),k(s),N(!0),(0,f.u)("badge_earned",{badge_id:s.id,quiz_id:e.quizId,principle_slug:a})}let t={...A,daily:A.daily+1};T(t),(0,f.u)("streak_increment",{daily_streak:t.daily,weekly_streak:t.weekly}),d.oR.success("Quiz passed! Well done on your progress.")}else d.oR.error("Score: ".concat(e.score,"%. Need ").concat(null==u?void 0:u.passThreshold,"% to pass. Review and try again!"))}})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-lg",children:"Earned Badges"}),(0,t.jsx)(l.BT,{children:"Your progress achievements"})]}),(0,t.jsx)(l.Wu,{children:_.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:_.map(e=>{let s=h.find(s=>s.id===e.badgeId);return s?(0,t.jsxs)("button",{onClick:()=>{k(s),N(!0)},className:"p-3 rounded-lg bg-surface/50 hover:bg-surface transition-colors text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:s.icon}),(0,t.jsx)("div",{className:"text-xs font-medium text-text-primary",children:s.name})]},e.badgeId):null})}):(0,t.jsx)("p",{className:"text-text-muted text-sm",children:"Complete your first quiz to earn badges!"})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-lg",children:"Your Progress"})}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-text-secondary",children:"Daily Streak"}),(0,t.jsxs)("span",{className:"font-medium text-text-primary",children:[A.daily," days"]})]}),(0,t.jsx)(c.k,{value:A.daily/7*100})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-text-secondary",children:"Weekly Streak"}),(0,t.jsxs)("span",{className:"font-medium text-text-primary",children:[A.weekly," weeks"]})]}),(0,t.jsx)(c.k,{value:A.weekly/4*100})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-300 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"text-sm text-text-secondary mb-2",children:"Achievements"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:["\uD83C\uDFE0 ",_.length," badges earned"]}),(0,t.jsxs)(o.E,{variant:"outline",className:"text-xs",children:["\uD83D\uDD25 ",A.longestDaily," day best streak"]})]})]})]})]})]})]})}),v&&w&&(0,t.jsx)(C,{badge:w,isOpen:v,onClose:()=>N(!1),onKeepLearning:D})]}):(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)(l.Zp,{className:"max-w-md",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-center",children:"Quiz Not Found"}),(0,t.jsx)(l.BT,{className:"text-center",children:"The quiz for this principle is not available yet."})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)(n.$,{onClick:()=>s.push("/principles/".concat(a)),className:"w-full",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Back to Lessons"]})})]})})}}},e=>{e.O(0,[909,275,192,441,255,358],()=>e(e.s=7398)),_N_E=e.O()}]);